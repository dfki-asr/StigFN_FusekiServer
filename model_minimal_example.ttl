@prefix st:    <http://example.org/stigld/> .
@prefix ex:    <http://example.org/> .
@prefix law:    <http://example.org/rules#> .
@prefix dom:    <http://example.org/domain/> .
@prefix en:    <http://example.org/entities#> .
@prefix pos:   <http://example.org/property/position#> .
@prefix ord:   <http://example.org/orders#> .
@prefix task:   <http://example.org/tasks#> .
@prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix topos: <http://example.org/gridPoint/> .


ex:medium a st:Medium .

ex:diffusionLaw a st:Law;
   st:affects ex:medium;
   st:rule law:diffusion .

topos:25  a                      st:Topos ;
        st:adjacentTo            topos:24 , topos:26 , topos:35 , topos:15 ;
        st:carries               [ a dom:diffusionTrace ;
                                   st:level  "0.001245"^^xsd:double
                                 ];
        pos:xPos                 "2"^^xsd:int ;
        pos:yPos                 "4"^^xsd:int .

topos:24  a                      st:Topos ;
        st:adjacentTo            topos:25 , topos:34 , topos:23 , topos:14 ;
        st:carries               en:stigma_diff ;
        pos:xPos                 "2"^^xsd:int ;
        pos:yPos                 "3"^^xsd:int .

topos:23  a                      st:Topos ;
        st:adjacentTo            topos:33 , topos:24 , topos:22 , topos:13 ;
        st:carries               en:stigma_evap;
        pos:xPos                 "2"^^xsd:int ;
        pos:yPos                 "2"^^xsd:int .


## Stigma with diffusion and evaporation behavior to call transporters
en:stigma_diff  a               dom:transportStigma , st:Stigma ;
        st:decayRate            "0.0005"^^xsd:double ;
        st:level                "100.0"^^xsd:double ;
        st:created              "2021-04-16T10:55:00.000+01:00"^^xsd:dateTime .

## Stigma with evaporation only that works as negative feedback
en:stigma_evap  a        dom:negFeedback, st:Stigma ;
        st:decayRate     "0.0005"^^xsd:double ;
        st:level         "100.0"^^xsd:double ;
        st:created       "2021-04-16T10:55:00.000+01:00"^^xsd:dateTime .

en:machine  a            dom:Artifact, dom:ProductionArtifact ;
        dom:located      topos:23 ;
        dom:queue        ( task:order_1 ) ;
        dom:outputPort   en:output .

en:output a  dom:Port ;
        dom:located      topos:24 ;
        dom:capacity     5 .

# Orders will be created as single triple while
ord:1  a   dom:Order .

# Will be created for an order once it was assigned;
# receive startTime and endTime (just as startTime + default timespan) when assigned;
# remove task and order when done.
task:order_1 a dom:WorkstationTask ;
        dom:startTime   "2021-03-26T15:56:00.000+01:00"^^xsd:dateTime ;
        dom:endTime   "2021-03-26T15:56:00.000+01:00"^^xsd:dateTime ;
        dom:order     ord:1 .

# Products will be created as triple in the topos of the output slot of the machine
# when current time exceeds end time.
# Products will be deleted when picked up by transporters
en:product_1  a         dom:Product ;
        dom:located     topos:24.

en:transporter  a   dom:Transporter , dom:Artifact ;
        dom:tasks    ( task:pickUpTask ) ;
        dom:located  topos:34 ;
        dom:idlePosition topos:xx ;
        dom:speed    1 ;
        dom:status   dom:busy .

task:pickUpTask a dom:Task ;
        dom:startTime   "2021-03-26T15:56:00.000+01:00"^^xsd:dateTime ;
        dom:endTime   "2021-03-26T15:56:00.000+01:00"^^xsd:dateTime .
